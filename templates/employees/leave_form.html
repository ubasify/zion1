{% extends 'base.html' %}

{% block header_title %}
{% if object %}Manage Leave Request: {{ object.employee.get_full_name }}{% else %}Apply for Leave{% endif %}
{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="glass p-8 rounded-3xl border border-white/10 shadow-xl">
        <form method="POST" class="space-y-6 text-sm">
            {% csrf_token %}

            <div class="space-y-4">
                {% if not object %}
                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Employee</label>
                    {{ form.employee }}
                </div>
                {% endif %}

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Leave Type</label>
                        {{ form.leave_type }}
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Start Date</label>
                        {{ form.start_date }}
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-2">End Date</label>
                        {{ form.end_date }}
                    </div>
                </div>

                <div>
                    <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Reason / Comments</label>
                    {{ form.reason }}
                </div>

                {% if object %}
                <div class="pt-6 border-t border-white/10 space-y-4">
                    <h3 class="text-xs font-black text-brand-navy uppercase tracking-widest">Administrative Action</h3>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Decision Status</label>
                        {{ form.status }}
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-2">Admin Comments</label>
                        {{ form.comments }}
                    </div>
                </div>
                {% endif %}
            </div>

            <div class="flex items-center justify-end gap-4 pt-8">
                <a href="{% url 'leave-list' %}"
                    class="px-6 py-3 font-bold text-slate-500 hover:text-slate-700 transition-colors">Cancel</a>
                <button type="submit"
                    class="px-8 py-3 bg-brand-navy text-white rounded-2xl font-bold hover:scale-105 transition-all">
                    {% if object %}Save Changes{% else %}Apply for Leave{% endif %}
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    input,
    select,
    textarea {
        width: 100%;
        padding: 0.75rem 1rem;
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1) !important;
        border-radius: 1rem !important;
        font-size: 0.875rem !important;
        color: #1e293b !important;
    }

    .dark input,
    .dark select,
    .dark textarea {
        color: white !important;
    }
</style>
{% endblock %}

